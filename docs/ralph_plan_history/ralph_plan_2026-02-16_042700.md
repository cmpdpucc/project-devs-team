# ðŸš€ RALPH PLAN â€” Self-Governance Framework

> **Questo file Ã¨ il SINGOLO punto di veritÃ  per TUTTE le operazioni in corso.**
> Prima di ogni risposta, Antigravity DEVE leggere questo file.
> **Questo file traccia l'avanzamento. Segna i task come completati `[x]` quando la DoD Ã¨ soddisfatta.**

---

## LEGACY â€” Fasi Completate

<details>
<summary>âœ… Click per espandere le fasi legacy giÃ  completate</summary>

### Strict Supervision Refactor
> **ðŸŽ¯ Supervisore:** `@backend-specialist` (skills: `api-patterns`, `nodejs-best-practices`)

- [x] Implementare `ProcessManager` con singleton thread-safe
- [x] Rimuovere `detach()` - Strict Supervision
- [x] Aggiungere `wait()` blocking al `ProcessManager`
- [x] Creare workflow `supervised-run.md`
- [x] Aggiornare `ralph-loop.md` con protocollo supervisione

### Self-Governance Framework v1
> **ðŸŽ¯ Supervisore:** `@orchestrator` (skills: `parallel-agents`, `behavioral-modes`)

- [x] Creare `ralph_plan.md` (questo file)
- [x] Creare regola `self-governance.md`
- [x] Implementare kill-switch verification
- [x] Creare regola `task-tracking.md`

</details>

---

## ðŸ”„ Fase Corrente â€” Auto-Plan Lifecycle

> **ðŸŽ¯ Supervisore:** `@orchestrator` (skills: `parallel-agents`, `behavioral-modes`)
> **Obiettivo:** Automatizzare il ciclo di vita del piano: archivia â†’ leggi richiesta utente â†’ genera nuovo piano
> con agenti e skills corretti da `ARCHITECTURE.md`.

### Lifecycle Rules
- [x] Aggiungere Step 0 (Plan Lifecycle) a `ralph-loop.md`
  - **Agente:** `@orchestrator` | Skills: `behavioral-modes`, `plan-writing`
  - DoD: Step 0 eseguito PRIMA dell'execution loop; include logica archivio/genera
- [x] Estendere `self-governance.md` con rotazione automatica e matrice agenti
  - **Agente:** `@orchestrator` | Skills: `plan-writing`, `architecture`
  - DoD: Regola contiene matrice agenteâ†’skills da ARCHITECTURE.md
- [x] Estendere `task-tracking.md` con lifecycle awareness
  - **Agente:** `@orchestrator` | Skills: `plan-writing`
  - DoD: Anti-pattern include "no piano = no risposta" e "consulta ARCHITECTURE.md"
- [x] Creare directory archivio `docs/ralph_plan_history/`
  - **Agente:** `@devops-engineer` | Skills: `deployment-procedures`
  - DoD: Directory esiste, primo archivio salvato
- [x] Archiviare piano precedente completato
  - **Agente:** `@devops-engineer` | Skills: `deployment-procedures`
  - DoD: File archiviato in `docs/ralph_plan_history/ralph_plan_2026-02-16_042200.md`

---

## ðŸ›¡ï¸ Processi Attivi (Kill Switch Registry)

| PID | Tipo | Porta | Stato | Lanciato Da |
|-----|------|-------|-------|-------------|
| - | - | - | Nessun processo attivo | - |

---

## ðŸ“ Log Decisioni

| Timestamp | Decisione | Motivazione |
|-----------|-----------|-------------|
| 2026-02-16 03:35 | Rimosso `detach()` | Processi orfani non supervisionati |
| 2026-02-16 03:55 | Creato self-governance framework | Task tracking obbligatorio |
| 2026-02-16 04:22 | Auto-plan lifecycle | Utente vuole rotazione automatica del piano |

---

## ðŸ”´ Lezioni Apprese

1. **MAI dichiarare un processo terminato senza verificare il PID** â†’ `tasklist /FI "PID eq X"`
2. **MAI usare `detach()`** â†’ Tutti i processi devono essere supervisionati
3. **MAI dimenticare il piano** â†’ Leggere `ralph_plan.md` ad OGNI risposta
4. **MAI generare un piano senza consultare ARCHITECTURE.md** â†’ Assegnare agenti + skills
5. **Archiviare SEMPRE il piano completato** â†’ `docs/ralph_plan_history/`

---

> **ðŸ“Š Stato:** Tutti i task completati. Pronto per NUOVO piano alla prossima richiesta utente.
> **Prossima azione:** Al prossimo messaggio utente â†’ Archivia questo piano â†’ Genera nuovo `ralph_plan.md` basato sulla richiesta.
